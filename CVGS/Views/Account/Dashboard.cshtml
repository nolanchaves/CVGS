@model CVGS.Models.ProfileViewModel
@{
    ViewData["Title"] = "Dashboard";
}

@if (Model.ActualName == "N/A")
{
    <h1>Welcome to your Dashboard</h1>
}
else
{
    <h1>Welcome to your Dashboard @Model.ActualName</h1>
}

<div class="container mt-4">
    <div class="row">
        <div class="col-md-6">
            <div class="card">
                <div class="card-header d-flex justify-content-between align-items-center">
                    <h2>Profile</h2>
                    <a asp-controller="Account" asp-action="Profile" class="btn btn-primary">Update Profile</a>
                </div>
                <div class="card-body">
                    <div>
                        <ul style="list-style-type: none;">
                            <li><strong>Actual Name:</strong> @(Model != null ? Model.ActualName : "N/A")</li>
                            <li><strong>Gender:</strong> @(Model != null ? Model.Gender : "N/A")</li>
                            <li><strong>Birthday:</strong> @(Model != null ? (Model.BirthDate != DateOnly.MinValue ? Model.BirthDate.ToString("d") : "N/A") : "N/A")</li>
                            <li><strong>Receive Promotional Emails:</strong> @(Model != null ? (Model.ReceivePromotionalEmails ? "Yes" : "No") : "N/A")</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="card">
                <div class="card-header d-flex justify-content-between align-items-center">
                    <h2>Preferences</h2>
                    <a asp-controller="Account" asp-action="Preferences" class="btn btn-primary">Update Preferences</a>
                </div>
                <div class="card-body">
                    <div>
                        <ul style="list-style-type: none;">
                            <li>
                                <strong>Favourite Platforms:</strong> @(Model.Preferences != null && Model.Preferences.FavouritePlatforms != null && Model.Preferences.FavouritePlatforms.Any()
                                ? string.Join(", ", Model.Preferences.FavouritePlatforms)
                                : "N/A")
                            </li>
                            <li>
                                <strong>Favourite Game Categories:</strong> @(Model.Preferences != null && Model.Preferences.FavouriteGameCategories != null && Model.Preferences.FavouriteGameCategories.Any()
                                ? string.Join(", ", Model.Preferences.FavouriteGameCategories)
                                : "N/A")
                            </li>
                            <li>
                                <strong>Language Preferences:</strong> @(Model.Preferences != null && Model.Preferences.LanguagePreferences != null && Model.Preferences.LanguagePreferences.Any()
                                ? string.Join(", ", Model.Preferences.LanguagePreferences)
                                : "N/A")
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row mt-4">
        <!-- Address Section -->
        <div class="col-md-6">
            <div class="card">
                <div class="card-header d-flex justify-content-between align-items-center">
                    <h2 class="mb-0">Address</h2>
                    <a asp-controller="Account" asp-action="Address" class="btn btn-primary">Update Address</a>
                </div>
                <div class="card-body">
                    <div>
                        <ul style="list-style-type: none;">
                            <li><strong>Full Name:</strong> @(Model.Address != null ? Model.Address.FullName : "N/A")</li>
                            <li><strong>Phone Number:</strong> @(Model.Address != null ? Model.Address.PhoneNumber : "N/A")</li>
                            <li><strong>Street Address:</strong> @(Model.Address != null ? Model.Address.StreetAddress : "N/A")</li>
                            <li><strong>Apt/Suite:</strong> @(Model.Address != null && !string.IsNullOrEmpty(Model.Address.AptSuite) ? Model.Address.AptSuite : "N/A")</li>
                            <li><strong>City:</strong> @(Model.Address != null ? Model.Address.City : "N/A")</li>
                            <li><strong>Province:</strong> @(Model.Address != null ? Model.Address.Province : "N/A")</li>
                            <li><strong>Postal Code:</strong> @(Model.Address != null ? Model.Address.PostalCode : "N/A")</li>
                            <li><strong>Delivery Instructions:</strong> @(Model.Address != null && !string.IsNullOrEmpty(Model.Address.DeliveryInstructions) ? Model.Address.DeliveryInstructions : "N/A")</li>
                            <li><strong>Same As Shipping Address:</strong> @(Model.Address != null ? (Model.Address.SameAsShippingAddress ? "Yes" : "No") : "N/A")</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Shipping Address Section -->
        @if (!Model.Address.SameAsShippingAddress)
        {
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        <h2>Shipping Address</h2>
                    </div>
                    <div class="card-body">
                        <div>
                            <ul style="list-style-type: none;">
                                <li><strong>Full Name:</strong> @(Model.Address != null ? Model.Address.ShippingFullName : "N/A")</li>
                                <li><strong>Phone Number:</strong> @(Model.Address != null ? Model.Address.ShippingPhoneNumber : "N/A")</li>
                                <li><strong>Street Address:</strong> @(Model.Address != null ? Model.Address.ShippingStreetAddress : "N/A")</li>
                                <li><strong>Apt/Suite:</strong> @(Model.Address != null && !string.IsNullOrEmpty(Model.Address.ShippingAptSuite) ? Model.Address.ShippingAptSuite : "N/A")</li>
                                <li><strong>City:</strong> @(Model.Address != null ? Model.Address.ShippingCity : "N/A")</li>
                                <li><strong>Province:</strong> @(Model.Address != null ? Model.Address.ShippingProvince : "N/A")</li>
                                <li><strong>Postal Code:</strong> @(Model.Address != null ? Model.Address.ShippingPostalCode : "N/A")</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        }
    </div>
</div>
